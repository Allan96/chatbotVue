<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<div id="app">
    <div v-for="pergunta in perguntas.slice(0, perguntaId+1)">
        <perguntas v-bind:pergunta="pergunta.pergunta" v-bind:key="pergunta.id"> </perguntas>
        <respostas v-if="pergunta.resposta != ''" v-bind:resposta="pergunta.resposta" v-bind:key="pergunta.id"> </respostas>

    </div>
    <span v-if="this.perguntas[this.perguntaId].type == 'button'">
        <b  v-for="button in this.perguntas[this.perguntaId].buttons">
            <button v-on:click="cliqueBotao(button)">{{button}}</button>
        </b>
    </span>
    <span v-if="this.perguntas[this.perguntaId].type == 'text'">
        <input type="text" class="form-control" v-model="resposta"  v-on:keyup.enter="cliqueBotao(resposta)" placeholder="Digite o Prefixo" />
        <button type="button" class="btn btn-info" v-on:click="cliqueBotao(resposta)">Enviar </button>
    </span>
</div>
<script>
    Vue.component('perguntas', {
        props: ['pergunta'],
        template: '<div>pergunta -> {{ pergunta }} </div> <br/> <br/>'
    });
    Vue.component('respostas', {
        props: ['resposta'],
        template: '<div>resposta -> {{ resposta }} </div> <br/> <br/>'
    });
    var app = new Vue({
        el: '#app',
        data: {
            id: 1,
            resposta: "",
            perguntas: [{
                type: "text",
                pergunta: "Olá, tudo bom? Sou o Chue e estamos aqui para facilitar o seu contato com os nossos especialistas! Para isso, eu vou te fazer algumas perguntas e já enviar o seu cadastro para o time responsável. Vamos lá?",
                resposta: ""
            }, {
                id: 2,
                type: "button",
                pergunta: "Legal! Qual o seu nome?",
                resposta: "",
                buttons: ["Sim", "Não"]
            }, {
                id: 3,
                type: "text",
                pergunta: "Qual é o nome da empresa?",
                resposta: ""
            }, {
                id: 4,
                type: "text",
                pergunta: "Legal! E qual é o CNPJ da empresa?",
                resposta: ""
            }, {
                id: 5,
                type: "text",
                pergunta: "Você sabe quantos funcionários a empresa tem?",
                resposta: ""
            }, {
                id: 6,
                type: "text",
                pergunta: "Agora só mais algumas perguntas. E qual é o seu e-mail?",
                resposta: ""
            }, {
                id: 7,
                type: "text",
                pergunta: "Perfeito! E qual é o seu telefone?",
                resposta: ""
            }, {
                id: 8,
                type: "text",
                pergunta: "Agora só preciso saber como você prefere que nossos especialistas entrem em contato:",
                resposta: ""
            }],
            perguntaId: 0
        },
        methods: {
            cliqueBotao(resposta) {
                this.perguntas[this.perguntaId].resposta = resposta;
                this.perguntaId += 1;
                this.resposta = "";
            }
        }
    });
</script>